{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MSi/Desktop/staff-activity-tracker/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MSi/Desktop/staff-activity-tracker/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MSi/Desktop/staff-activity-tracker/components/performance-charts.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  BarChart,\n  Bar,\n  Legend,\n} from \"recharts\"\nimport type { DailyRecord } from \"@/lib/types\"\nimport { format, parseISO } from \"date-fns\"\n\ninterface PerformanceChartsProps {\n  records: DailyRecord[]\n}\n\nexport function PerformanceCharts({ records }: PerformanceChartsProps) {\n  // Aggregate records by date\n  const dailyData = records.reduce(\n    (acc, record) => {\n      const date = record.record_date\n      if (!acc[date]) {\n        acc[date] = {\n          date,\n          new_clients: 0,\n          trust_love: 0,\n          hot_chat: 0,\n          topup: 0,\n          withdraw: 0,\n          registrations: 0,\n        }\n      }\n      acc[date].new_clients += record.new_clients || 0\n      acc[date].trust_love += record.today_trust_love || 0\n      acc[date].hot_chat += record.today_hot_chat || 0\n      acc[date].topup += Number(record.today_topup_amount) || 0\n      acc[date].withdraw += Number(record.client_withdraw_amount) || 0\n      acc[date].registrations += record.today_register || 0\n      return acc\n    },\n    {} as Record<\n      string,\n      {\n        date: string\n        new_clients: number\n        trust_love: number\n        hot_chat: number\n        topup: number\n        withdraw: number\n        registrations: number\n      }\n    >,\n  )\n\n  const chartData = Object.values(dailyData)\n    .sort((a, b) => a.date.localeCompare(b.date))\n    .map((d) => ({\n      ...d,\n      dateLabel: format(parseISO(d.date), \"MMM d\"),\n    }))\n\n  // Calculate cumulative totals for trend line\n  let cumulativeTrustLove = 0\n  let cumulativeHotChat = 0\n  const trendData = chartData.map((d) => {\n    cumulativeTrustLove += d.trust_love\n    cumulativeHotChat += d.hot_chat\n    return {\n      ...d,\n      cumulative_trust_love: cumulativeTrustLove,\n      cumulative_hot_chat: cumulativeHotChat,\n    }\n  })\n\n  if (records.length === 0) {\n    return (\n      <Card>\n        <CardHeader className=\"pb-2 sm:pb-4\">\n          <CardTitle className=\"text-base sm:text-lg\">Performance Trends</CardTitle>\n          <CardDescription className=\"text-xs sm:text-sm\">No data available for the selected period</CardDescription>\n        </CardHeader>\n        <CardContent className=\"flex h-[200px] sm:h-[300px] items-center justify-center text-sm text-muted-foreground\">\n          Record some activities to see trends here\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-2\">\n      {/* Cumulative Trends */}\n      <Card>\n        <CardHeader className=\"pb-2 sm:pb-4\">\n          <CardTitle className=\"text-base sm:text-lg\">Cumulative Trends</CardTitle>\n          <CardDescription className=\"text-xs sm:text-sm\">Total Trust/Love and Hot Chat over time</CardDescription>\n        </CardHeader>\n        <CardContent className=\"pl-0 sm:pl-2\">\n          <ResponsiveContainer width=\"100%\" height={220} className=\"sm:!h-[300px]\">\n            <LineChart data={trendData} margin={{ top: 5, right: 10, left: -10, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\n              <XAxis\n                dataKey=\"dateLabel\"\n                className=\"text-[10px] sm:text-xs\"\n                tick={{ fill: \"currentColor\", fontSize: 10 }}\n              />\n              <YAxis className=\"text-[10px] sm:text-xs\" tick={{ fill: \"currentColor\", fontSize: 10 }} width={30} />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--card))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"var(--radius)\",\n                  fontSize: \"12px\",\n                }}\n                labelStyle={{ color: \"hsl(var(--foreground))\" }}\n              />\n              <Legend wrapperStyle={{ fontSize: \"10px\" }} />\n              <Line\n                type=\"monotone\"\n                dataKey=\"cumulative_trust_love\"\n                name=\"Total Trust/Love\"\n                stroke=\"hsl(var(--chart-1))\"\n                strokeWidth={2}\n                dot={false}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"cumulative_hot_chat\"\n                name=\"Total Hot Chat\"\n                stroke=\"hsl(var(--chart-2))\"\n                strokeWidth={2}\n                dot={false}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Daily New Clients */}\n      <Card>\n        <CardHeader className=\"pb-2 sm:pb-4\">\n          <CardTitle className=\"text-base sm:text-lg\">Daily New Clients</CardTitle>\n          <CardDescription className=\"text-xs sm:text-sm\">New clients added each day</CardDescription>\n        </CardHeader>\n        <CardContent className=\"pl-0 sm:pl-2\">\n          <ResponsiveContainer width=\"100%\" height={220} className=\"sm:!h-[300px]\">\n            <BarChart data={chartData} margin={{ top: 5, right: 10, left: -10, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\n              <XAxis\n                dataKey=\"dateLabel\"\n                className=\"text-[10px] sm:text-xs\"\n                tick={{ fill: \"currentColor\", fontSize: 10 }}\n              />\n              <YAxis className=\"text-[10px] sm:text-xs\" tick={{ fill: \"currentColor\", fontSize: 10 }} width={30} />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--card))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"var(--radius)\",\n                  fontSize: \"12px\",\n                }}\n                labelStyle={{ color: \"hsl(var(--foreground))\" }}\n              />\n              <Bar dataKey=\"new_clients\" name=\"New Clients\" fill=\"hsl(var(--chart-3))\" radius={[4, 4, 0, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Financial Overview */}\n      <Card>\n        <CardHeader className=\"pb-2 sm:pb-4\">\n          <CardTitle className=\"text-base sm:text-lg\">Financial Overview</CardTitle>\n          <CardDescription className=\"text-xs sm:text-sm\">Top-ups vs Withdrawals</CardDescription>\n        </CardHeader>\n        <CardContent className=\"pl-0 sm:pl-2\">\n          <ResponsiveContainer width=\"100%\" height={220} className=\"sm:!h-[300px]\">\n            <BarChart data={chartData} margin={{ top: 5, right: 10, left: -10, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\n              <XAxis\n                dataKey=\"dateLabel\"\n                className=\"text-[10px] sm:text-xs\"\n                tick={{ fill: \"currentColor\", fontSize: 10 }}\n              />\n              <YAxis\n                className=\"text-[10px] sm:text-xs\"\n                tick={{ fill: \"currentColor\", fontSize: 10 }}\n                width={35}\n                tickFormatter={(v) => `$${v}`}\n              />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--card))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"var(--radius)\",\n                  fontSize: \"12px\",\n                }}\n                labelStyle={{ color: \"hsl(var(--foreground))\" }}\n                formatter={(value: number) => [`$${value.toFixed(2)}`, \"\"]}\n              />\n              <Legend wrapperStyle={{ fontSize: \"10px\" }} />\n              <Bar dataKey=\"topup\" name=\"Top-Up\" fill=\"hsl(var(--chart-4))\" radius={[4, 4, 0, 0]} />\n              <Bar dataKey=\"withdraw\" name=\"Withdraw\" fill=\"hsl(var(--chart-5))\" radius={[4, 4, 0, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Daily Activity */}\n      <Card>\n        <CardHeader className=\"pb-2 sm:pb-4\">\n          <CardTitle className=\"text-base sm:text-lg\">Daily Activity</CardTitle>\n          <CardDescription className=\"text-xs sm:text-sm\">Trust/Love and Hot Chat per day</CardDescription>\n        </CardHeader>\n        <CardContent className=\"pl-0 sm:pl-2\">\n          <ResponsiveContainer width=\"100%\" height={220} className=\"sm:!h-[300px]\">\n            <LineChart data={chartData} margin={{ top: 5, right: 10, left: -10, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\n              <XAxis\n                dataKey=\"dateLabel\"\n                className=\"text-[10px] sm:text-xs\"\n                tick={{ fill: \"currentColor\", fontSize: 10 }}\n              />\n              <YAxis className=\"text-[10px] sm:text-xs\" tick={{ fill: \"currentColor\", fontSize: 10 }} width={30} />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: \"hsl(var(--card))\",\n                  border: \"1px solid hsl(var(--border))\",\n                  borderRadius: \"var(--radius)\",\n                  fontSize: \"12px\",\n                }}\n                labelStyle={{ color: \"hsl(var(--foreground))\" }}\n              />\n              <Legend wrapperStyle={{ fontSize: \"10px\" }} />\n              <Line\n                type=\"monotone\"\n                dataKey=\"trust_love\"\n                name=\"Trust/Love\"\n                stroke=\"hsl(var(--chart-1))\"\n                strokeWidth={2}\n              />\n              <Line type=\"monotone\" dataKey=\"hot_chat\" name=\"Hot Chat\" stroke=\"hsl(var(--chart-2))\" strokeWidth={2} />\n              <Line\n                type=\"monotone\"\n                dataKey=\"registrations\"\n                name=\"Registrations\"\n                stroke=\"hsl(var(--chart-3))\"\n                strokeWidth={2}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MSi/Desktop/staff-activity-tracker/components/ui/table.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,mSAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,mSAAC;YACC,aAAU;YACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,mSAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 989, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MSi/Desktop/staff-activity-tracker/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\nimport type { SupabaseClient } from \"@supabase/supabase-js\"\n\nconst SUPABASE_CLIENT_KEY = \"__supabase_client__\"\n\nlet client: ReturnType<typeof createBrowserClient> | null = null\n\nexport function createClient(): SupabaseClient {\n  // Check if we're in browser environment\n  if (typeof window !== \"undefined\") {\n    // Return existing client if already created\n    if ((window as any)[SUPABASE_CLIENT_KEY]) {\n      return (window as any)[SUPABASE_CLIENT_KEY]\n    }\n\n    // Create new client and store globally\n    client = createBrowserClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!)\n    ;(window as any)[SUPABASE_CLIENT_KEY] = client\n    return client\n  }\n\n  // Server-side fallback (shouldn't happen for browser client)\n  return createBrowserClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!)\n}\n"],"names":[],"mappings":";;;;AAgBiC;AAhBjC;AAAA;;AAGA,MAAM,sBAAsB;AAE5B,IAAI,SAAwD;AAErD,SAAS;IACd,wCAAwC;IACxC,wCAAmC;QACjC,4CAA4C;QAC5C,IAAI,AAAC,MAAc,CAAC,oBAAoB,EAAE;YACxC,OAAO,AAAC,MAAc,CAAC,oBAAoB;QAC7C;QAEA,uCAAuC;QACvC,SAAS,IAAA,iTAAmB;QAC1B,MAAc,CAAC,oBAAoB,GAAG;QACxC,OAAO;IACT;;;AAIF"}},
    {"offset": {"line": 1021, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MSi/Desktop/staff-activity-tracker/app/reporting/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { PerformanceCharts } from \"@/components/performance-charts\"\r\nimport { Table, TableHeader, TableBody, TableHead, TableRow, TableCell } from \"@/components/ui/table\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\nimport type { DailyRecord } from \"@/lib/types\"\r\n\r\nconst ALL_COLUMNS = [\r\n\t{ key: \"record_date\", label: \"Date\" },\r\n\t{ key: \"staff\", label: \"Staff\" },\r\n\t{ key: \"new_clients\", label: \"New Clients\" },\r\n\t{ key: \"today_trust_love\", label: \"Trust/Love\" },\r\n\t{ key: \"today_hot_chat\", label: \"Hot Chat\" },\r\n\t{ key: \"today_test_size_cut\", label: \"Test Size Cut\" },\r\n\t{ key: \"today_size_cut\", label: \"Size Cut\" },\r\n\t{ key: \"today_new_free_task\", label: \"New Free Task\" },\r\n\t{ key: \"today_promote_topup\", label: \"Promote Top-Up\" },\r\n\t{ key: \"today_promote_success\", label: \"Promote Success\" },\r\n\t{ key: \"today_new_interesting_clients\", label: \"New Interesting Clients\" },\r\n\t{ key: \"today_register\", label: \"Register\" },\r\n\t{ key: \"today_send_voice\", label: \"Send Voice\" },\r\n\t{ key: \"today_voice_call\", label: \"Voice Call\" },\r\n\t{ key: \"today_video_call\", label: \"Video Call\" },\r\n\t{ key: \"first_recharge_amount\", label: \"First Recharge\" },\r\n\t{ key: \"today_topup_amount\", label: \"Top-Up Amount\" },\r\n\t{ key: \"client_withdraw_amount\", label: \"Withdraw Amount\" },\r\n]\r\n\r\nconst ReportingPage = () => {\r\n\tconst [records, setRecords] = useState<DailyRecord[]>([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [error, setError] = useState<string | null>(null)\r\n\tconst [selectedColumns, setSelectedColumns] = useState(ALL_COLUMNS.map(col => col.key))\r\n\tconst [selectedYear, setSelectedYear] = useState(new Date().getFullYear())\r\n\tconst [category, setCategory] = useState(\"all\")\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tsetLoading(true)\r\n\t\t\tsetError(null)\r\n\t\t\ttry {\r\n\t\t\t\tconst supabase = createClient()\r\n\t\t\t\tconst { data, error } = await supabase\r\n\t\t\t\t\t.from(\"daily_records\")\r\n\t\t\t\t\t.select(\"*, staff(name)\")\r\n\t\t\t\t\t.order(\"record_date\", { ascending: false })\r\n\t\t\t\tif (error) throw error\r\n\t\t\t\tsetRecords(data || [])\r\n\t\t\t} catch (err: any) {\r\n\t\t\t\tsetError(err.message || \"Failed to fetch data\")\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchData()\r\n\t}, [])\r\n\r\n\tconst handleColumnToggle = (key: string) => {\r\n\t\tsetSelectedColumns(cols =>\r\n\t\t\tcols.includes(key) ? cols.filter(col => col !== key) : [...cols, key]\r\n\t\t)\r\n\t}\r\n\r\n\r\n\t// Filter records by year and category\r\n\tconst filteredRecords = records.filter(r => {\r\n\t\tconst year = new Date(r.record_date).getFullYear()\r\n\t\tif (year !== selectedYear) return false\r\n\t\tif (category === \"all\") return true\r\n\t\tif (category === \"financial\") return true // can expand for more categories\r\n\t\treturn true\r\n\t})\r\n\r\n\t// --- Overview metrics ---\r\n\t// Total earnings (YTD)\r\n\tconst totalEarnings = filteredRecords.reduce((sum, r) => sum + Number(r.today_topup_amount || 0), 0)\r\n\t// Total new customers (YTD)\r\n\tconst totalNewCustomers = filteredRecords.reduce((sum, r) => sum + (r.new_clients || 0), 0)\r\n\t// --- Staff performance ---\r\n\t// Get all unique staff\r\n\tconst staffList = Array.from(\r\n\t\tnew Map(records.map(r => [r.staff?.id, r.staff])).values()\r\n\t).filter((s): s is NonNullable<typeof s> => !!s && !!s.id)\r\n\r\n\t// Staff count\r\n\tconst staffCount = staffList.length\r\n\t// Best performer (by earnings)\r\n\tlet bestPerformer = null\r\n\tlet bestEarnings = 0\r\n\tstaffList.forEach(staff => {\r\n\t\tconst earnings = filteredRecords.filter(r => r.staff_id === staff.id).reduce((sum, r) => sum + Number(r.today_topup_amount || 0), 0)\r\n\t\tif (earnings > bestEarnings) {\r\n\t\t\tbestEarnings = earnings\r\n\t\t\tbestPerformer = staff\r\n\t\t}\r\n\t})\r\n\tconst months = [\r\n\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\r\n\t]\r\n\t// Calculate monthly earnings\r\n\tconst monthlyEarnings = Array(12).fill(0)\r\n\tfilteredRecords.forEach(r => {\r\n\t\tconst date = new Date(r.record_date)\r\n\t\tconst monthIdx = date.getMonth()\r\n\t\tmonthlyEarnings[monthIdx] += Number(r.today_topup_amount || 0)\r\n\t})\r\n\r\n\t// --- Category options ---\r\n\tconst categoryOptions = [\r\n\t\t{ value: \"all\", label: \"All\" },\r\n\t\t{ value: \"financial\", label: \"Financial\" },\r\n\t\t// Add more categories as needed\r\n\t]\r\n\r\n\r\n\t\tconst columnsToShow = ALL_COLUMNS.filter(col => selectedColumns.includes(col.key))\r\n\r\n\t// --- Staff performance ---\r\n\t// Get all unique staff\r\n\tconst staffList = Array.from(\r\n\t\tnew Map(records.map(r => [r.staff?.id, r.staff])).values()\r\n\t).filter((s): s is NonNullable<typeof s> => !!s && !!s.id)\r\n\r\n\t// For each staff, calculate new customers and earnings per month\r\n\tfunction getStaffMonthlyStats(staffId: string) {\r\n\t\tconst stats = Array(12).fill(null).map(() => ({ new_clients: 0, earnings: 0 }))\r\n\t\tfilteredRecords.forEach(r => {\r\n\t\t\tif (r.staff_id === staffId) {\r\n\t\t\t\tconst m = new Date(r.record_date).getMonth()\r\n\t\t\t\tstats[m].new_clients += r.new_clients || 0\r\n\t\t\t\tstats[m].earnings += Number(r.today_topup_amount || 0)\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn stats\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className=\"p-4 sm:p-8\">\r\n\t\t\t<h1 className=\"text-2xl font-bold mb-4\">Reporting</h1>\r\n\r\n\t\t\t{/* Overview Cards */}\r\n\t\t\t<div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow p-4 flex flex-col items-center\">\r\n\t\t\t\t\t<div className=\"text-xs text-muted-foreground mb-1\">Total Earnings (YTD)</div>\r\n\t\t\t\t\t<div className=\"text-2xl font-bold text-green-600\">{totalEarnings.toLocaleString(undefined, { style: 'currency', currency: 'USD' })}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow p-4 flex flex-col items-center\">\r\n\t\t\t\t\t<div className=\"text-xs text-muted-foreground mb-1\">New Customers (YTD)</div>\r\n\t\t\t\t\t<div className=\"text-2xl font-bold text-blue-600\">{totalNewCustomers}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow p-4 flex flex-col items-center\">\r\n\t\t\t\t\t<div className=\"text-xs text-muted-foreground mb-1\">Total Staff</div>\r\n\t\t\t\t\t<div className=\"text-2xl font-bold text-purple-600\">{staffCount}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow p-4 flex flex-col items-center\">\r\n\t\t\t\t\t<div className=\"text-xs text-muted-foreground mb-1\">Best Performer</div>\r\n\t\t\t\t\t<div className=\"text-lg font-semibold text-yellow-700\">{bestPerformer ? bestPerformer.name : '-'}</div>\r\n\t\t\t\t\t<div className=\"text-xs text-muted-foreground\">{bestPerformer ? bestEarnings.toLocaleString(undefined, { style: 'currency', currency: 'USD' }) : ''}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* Filters */}\r\n\t\t\t<div className=\"mb-4 flex flex-wrap gap-4 items-center\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label className=\"mr-2 font-medium\">Year:</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tvalue={selectedYear}\r\n\t\t\t\t\t\tonChange={e => setSelectedYear(Number(e.target.value))}\r\n\t\t\t\t\t\tclassName=\"border rounded px-2 py-1\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{Array.from(new Set(records.map(r => new Date(r.record_date).getFullYear()))).sort((a, b) => b - a).map(year => (\r\n\t\t\t\t\t\t\t<option key={year} value={year}>{year}</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label className=\"mr-2 font-medium\">Category:</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\tonChange={e => setCategory(e.target.value)}\r\n\t\t\t\t\t\tclassName=\"border rounded px-2 py-1\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{categoryOptions.map(opt => (\r\n\t\t\t\t\t\t\t<option key={opt.value} value={opt.value}>{opt.label}</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Interactive Charts */}\r\n\t\t\t<div className=\"mb-8\">\r\n\t\t\t\t<PerformanceCharts records={filteredRecords} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Monthly Earnings Summary */}\r\n\t\t\t<div className=\"mb-6\">\r\n\t\t\t\t<h2 className=\"text-lg font-semibold mb-2\">Total Monthly Earnings</h2>\r\n\t\t\t\t<div className=\"overflow-x-auto\">\r\n\t\t\t\t\t<table className=\"min-w-[600px] border text-center\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t{months.map((m, i) => (\r\n\t\t\t\t\t\t\t\t\t<th key={i} className=\"px-3 py-2 border-b\">{m}</th>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t{monthlyEarnings.map((amt, i) => (\r\n\t\t\t\t\t\t\t\t\t<td key={i} className=\"px-3 py-2 border-b font-semibold\">{amt.toLocaleString(undefined, { style: 'currency', currency: 'USD' })}</td>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Staff Performance Section */}\r\n\t\t\t<div className=\"mb-8\">\r\n\t\t\t\t<h2 className=\"text-lg font-semibold mb-2\">Staff Performance (New Customers & Earnings)</h2>\r\n\t\t\t\t<div className=\"space-y-8\">\r\n\t\t\t\t\t{staffList.map(staff => {\r\n\t\t\t\t\t\tif (!staff || !staff.id) return null\r\n\t\t\t\t\t\tconst stats = getStaffMonthlyStats(staff.id)\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={staff.id} className=\"border rounded-lg p-4 bg-gray-50\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"font-bold mb-2\">{staff.name}</h3>\r\n\t\t\t\t\t\t\t\t<div className=\"overflow-x-auto\">\r\n\t\t\t\t\t\t\t\t\t<table className=\"min-w-[600px] border text-center mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"px-2 py-1 border-b\">Month</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{months.map((m, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th key={i} className=\"px-2 py-1 border-b\">{m}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"font-medium border-b\">New Customers</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{stats.map((s, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td key={i} className=\"px-2 py-1 border-b\">{s.new_clients}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"font-medium\">Earnings</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{stats.map((s, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td key={i} className=\"px-2 py-1\">{s.earnings.toLocaleString(undefined, { style: 'currency', currency: 'USD' })}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Column selection */}\r\n\t\t\t<div className=\"mb-4 flex flex-wrap gap-2\">\r\n\t\t\t\t{ALL_COLUMNS.map(col => (\r\n\t\t\t\t\t<label key={col.key} className=\"flex items-center gap-1 text-sm\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tchecked={selectedColumns.includes(col.key)}\r\n\t\t\t\t\t\t\tonChange={() => handleColumnToggle(col.key)}\r\n\t\t\t\t\t\t\tclassName=\"accent-primary h-4 w-4\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{col.label}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Data Table */}\r\n\t\t\t<div className=\"bg-white rounded shadow p-2 sm:p-4 overflow-x-auto\">\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<p>Loading report data...</p>\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<p className=\"text-red-600\">{error}</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"min-w-[700px]\">\r\n\t\t\t\t\t\t<Table className=\"min-w-full text-xs sm:text-sm\">\r\n\t\t\t\t\t\t\t<TableHeader>\r\n\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t{columnsToShow.map((col) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableHead key={col.key} className=\"whitespace-nowrap px-2 py-2\">{col.label}</TableHead>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHeader>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{filteredRecords.map((record) => (\r\n\t\t\t\t\t\t\t\t\t<TableRow key={record.id}>\r\n\t\t\t\t\t\t\t\t\t\t{columnsToShow.map(col => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell key={col.key} className=\"whitespace-nowrap px-2 py-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{col.key === \"staff\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? record.staff?.name || \"-\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (record as any)[col.key]}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t)\r\n}\r\n\r\nexport default ReportingPage\r\n"],"names":[],"mappings":"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"}}]
}